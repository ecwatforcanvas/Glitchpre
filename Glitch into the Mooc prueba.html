<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Glitch into the MOOC</title>
    <style>
        /* === ESTILOS GLOBALES (Cyberpunk) === */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=VT323&display=swap');

        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            font-family: 'Orbitron', sans-serif;
            text-align: center;
            padding: 20px;
            color: #e0e0e0;
            overflow-x: hidden;
            margin: 0;
        }

        /* Efecto glitch para títulos */
        @keyframes titleGlitch {
            0%, 100% { text-shadow: 0 0 10px #00ffea, 0 0 20px #ff00ff; }
            25% { text-shadow: -5px 0 10px #00aaff, 5px 0 10px #ff00ff; }
            50% { text-shadow: 0 0 15px #ff00ff, 0 0 25px #00ffaa; }
            75% { text-shadow: 5px 0 10px #00ffaa, -5px 0 10px #7700ff; }
        }

        h1 {
            font-size: 4em;
            color: #00ffea;
            text-shadow: 0 0 10px rgba(0, 255, 234, 0.7);
            margin: 30px 0;
            letter-spacing: 3px;
            animation: titleGlitch 3s infinite;
            text-transform: uppercase;
        }

        h2 {
            font-size: 2.5em;
            color: #00ffaa;
            text-shadow: 0 0 10px rgba(0, 255, 170, 0.7);
            margin: 20px 0;
            letter-spacing: 2px;
        }

        .screen {
            display: none; /* Todas las pantallas ocultas por defecto */
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px;
            background: rgba(20, 20, 20, 0.8);
            border: 1px solid #3a3a3a;
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(0, 255, 170, 0.3);
            position: relative;
        }

        .screen::before {
            content: "";
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #00ffea, #ff00ff, #00ffaa, #7700ff);
            z-index: -1;
            border-radius: 6px;
            animation: borderGlow 4s linear infinite;
            background-size: 400%;
            opacity: 0.7;
        }

        @keyframes borderGlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .active {
            display: block; /* Muestra solo la pantalla activa */
        }

        button {
            background: linear-gradient(45deg, #00ffaa, #00aaff);
            color: #111;
            border: none;
            padding: 15px 40px;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 5px;
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
            letter-spacing: 1px;
            box-shadow: 0 0 15px rgba(0, 255, 170, 0.5);
            margin: 20px 10px;
            position: relative;
            overflow: hidden;
        }

        button:hover {
            background: linear-gradient(45deg, #00aaff, #ff00ff);
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 170, 255, 0.7);
        }

        .footer {
            font-size: 1em;
            color: #777;
            margin-top: 40px;
            text-shadow: 0 0 5px rgba(0, 200, 255, 0.3);
            font-family: 'VT323', monospace;
        }

        /* Efecto Matrix (opcional) */
        .matrix-code {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 255, 170, 0.05),
                rgba(0, 255, 170, 0.05) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            z-index: -1;
        }

        /* Estilos para la tercera pantalla */
        .translation-box {
            display: none;
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #00ffea;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 255, 234, 0.5);
            max-width: 80%;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }

        .glitch-effect:hover {
            position: relative;
            animation: glitch 0.3s linear infinite;
        }

        @keyframes glitch {
            0% { text-shadow: 0.05em 0 0 #00ffea, -0.05em -0.025em 0 #ff00ff; }
            14% { text-shadow: 0.05em 0 0 #00ffea, -0.05em -0.025em 0 #ff00ff; }
            15% { text-shadow: -0.05em -0.025em 0 #00ffea, 0.025em 0.025em 0 #ff00ff; }
            49% { text-shadow: -0.05em -0.025em 0 #00ffea, 0.025em 0.025em 0 #ff00ff; }
            50% { text-shadow: 0.025em 0.05em 0 #00ffea, 0.05em 0 0 #ff00ff, 0 -0.05em 0 #00aaff; }
            99% { text-shadow: 0.025em 0.05em 0 #00ffea, 0.05em 0 0 #ff00ff, 0 -0.05em 0 #00aaff; }
            100% { text-shadow: -0.025em 0 0 #00ffea, -0.025em -0.025em 0 #ff00ff; }
        }

        .h5p-button {
            text-align: center;
            text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff, 0 0 40px #0ff, 0 0 70px #0ff, 0 0 80px #0ff, 0 0 100px #0ff, 0 0 150px #0ff;
            color: #0ff;
            font-size: 2em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s;
        }

        .h5p-button:hover {
            transform: scale(1.05);
            text-shadow: 0 0 15px #fff, 0 0 30px #fff, 0 0 45px #fff, 0 0 60px #0ff, 0 0 105px #0ff, 0 0 120px #0ff, 0 0 150px #0ff, 0 0 225px #0ff;
        }

        /* Estilos para la cuarta pantalla */
        .ai-tools-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
        }

        .ai-tool-btn {
            position: relative;
            padding: 15px 25px;
            text-align: center;
            text-decoration: none;
            font-weight: bold;
            letter-spacing: 1px;
            text-transform: uppercase;
            border-radius: 5px;
            font-size: 1.2em;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
            min-width: 150px;
            flex: 1 1 auto;
            max-width: 200px;
            border: 1px solid;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1;
        }

        /* Efecto reflejo futurista */
        .ai-tool-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                rgba(255, 255, 255, 0.3),
                rgba(255, 255, 255, 0)
            );
            transform: rotate(30deg);
            opacity: 0;
            transition: all 0.5s;
        }

        .ai-tool-btn:hover::before {
            opacity: 1;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .deepseek-btn {
            color: #007BFF;
            border-color: #007BFF;
            box-shadow: 0 0 10px #007BFF;
            text-shadow: 0 0 5px #007BFF;
        }

        .chatgpt-btn {
            color: #28a745;
            border-color: #28a745;
            box-shadow: 0 0 10px #28a745;
            text-shadow: 0 0 5px #28a745;
        }

        .copilot-btn {
            color: #dc3545;
            border-color: #dc3545;
            box-shadow: 0 0 10px #dc3545;
            text-shadow: 0 0 5px #dc3545;
        }

        .gemini-btn {
            color: #ffc107;
            border-color: #ffc107;
            box-shadow: 0 0 10px #ffc107;
            text-shadow: 0 0 5px #ffc107;
        }

        .h5p-iframe {
            width: 100%;
            max-width: 800px;
            height: 600px;
            margin: 20px 0;
            border: 1px solid #333;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        /* Botón principal (más grande y atractivo) */
        .primary-btn {
            padding: 18px 35px;
            font-size: 1.5em;
            color: #ff5555;
            border: 2px solid #ff5555;
            background: rgba(20, 0, 0, 0.7);
            text-shadow: 0 0 8px #ff5555, 0 0 16px #ff5555;
            box-shadow: 0 0 15px #ff5555, 0 0 30px #ff5555, inset 0 0 15px #ff5555;
            min-width: 250px;
            animation: pulse 1s infinite;
        }

        .primary-btn:hover {
            color: #ff0000;
            border-color: #ff0000;
            text-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000;
            box-shadow: 0 0 25px #ff0000, 0 0 50px #ff0000, inset 0 0 20px #ff0000;
            transform: scale(1.05);
        }

        /* Botón secundario */
        .secondary-btn {
            padding: 15px 30px;
            font-size: 1.3em;
            color: #00ffaa;
            border: 2px solid #00ffaa;
            background: rgba(0, 20, 10, 0.7);
            text-shadow: 0 0 5px #00ffaa, 0 0 10px #00ffaa;
            box-shadow: 0 0 10px #00ffaa, 0 0 20px #00ffaa, inset 0 0 10px #00ffaa;
            min-width: 200px;
        }

        .secondary-btn:hover {
            color: #00ffea;
            border-color: #00ffea;
            text-shadow: 0 0 8px #00ffea, 0 0 16px #00ffea;
            box-shadow: 0 0 15px #00ffea, 0 0 30px #00ffea, inset 0 0 15px #00ffea;
            transform: scale(1.03);
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 15px #ff5555, 0 0 30px #ff5555, inset 0 0 15px #ff5555;
            }
            50% {
                box-shadow: 0 0 25px #ff5555, 0 0 50px #ff5555, inset 0 0 25px #ff5555;
            }
            100% {
                box-shadow: 0 0 15px #ff5555, 0 0 30px #ff5555, inset 0 0 15px #ff5555;
            }
        }
        /* === ESTILOS EXCLUSIVOS DE PANTALLA 5 === */
        #screen5 {
            background: #000;
            z-index: 1000;
            position: relative; /* Asegura que la posición relativa permite el posicionamiento absoluto de los hijos */
        }

        .glitch-overlay {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background:
                linear-gradient(rgba(255,0,0,0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,0,0,0.1) 1px, transparent 1px);
            background-size: 3px 3px;
            animation: static 0.5s infinite;
        }
        @keyframes static {
            0%, 100% { opacity: 0.8; } 50% { opacity: 0.5; }
        }

        .evil-smile {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-size: 10em;
            text-shadow: 0 0 20px #ff0000;
            animation: flicker 0.1s infinite;
            z-index: 10;
        }

        @keyframes flicker {
          0% { opacity: 0.9; }
          25% { opacity: 0.7; }
          50% { opacity: 1; }
          75% { opacity: 0.8; }
          100% { opacity: 0.95; }
        }

        .glitch-image {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            max-width: 80%; max-height: 80%;
            filter: hue-rotate(90deg) contrast(200%) brightness(0.8);
            animation: glitch-image 2s infinite;
        }
        @keyframes glitch-image {
            0% { transform: translate(-50%, -50%) scale(1); }
            20% { transform: translate(-51%, -50%) scale(1.02); }
            40% { transform: translate(-50%, -51%) scale(0.98); }
            60% { transform: translate(-49%, -50%) scale(1.01); }
            80% { transform: translate(-50%, -49%) scale(0.99); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        .error-message {
            position: absolute;
            width: 100%;
            font-size: 1.5em;
            text-transform: uppercase;
            animation: glitch-text 1s infinite;
            text-shadow: 0 0 10px #ff0000;
        }
        .error-message:nth-child(1) { top: 10%; left: 0; color: #ff0000; }
        .error-message:nth-child(2) { top: 20%; right: 10%; color: #00ff00; transform: rotate(5deg); }
        .error-message:nth-child(3) { bottom: 30%; left: 10%; color: #0000ff; transform: rotate(-5deg); }
        .error-message:nth-child(4) { bottom: 15%; right: 5%; color: #ffff00; transform: rotate(3deg); }
        @keyframes glitch-text {
            0% { text-shadow: 2px 0 #ff0000, -2px 0 #00ff00; }
            25% { text-shadow: -2px 0 #ff0000, 2px 0 #00ff00; }
            50% { text-shadow: 2px 0 #0000ff, -2px 0 #ffff00; }
            75% { text-shadow: -2px 0 #0000ff, 2px 0 #ffff00; }
            100% { text-shadow: 2px 0 #ff0000, -2px 0 #00ff00; }
        }

        .countdown {
            position: absolute;
            bottom: 40%; left: 50%;
            transform: translateX(-50%);
            font-size: 5em;
            color: #ff0000;
            text-shadow: 0 0 40px #ff0000;
            animation: pulse 1s infinite;
            z-index: 20;
        }

        .matrix-failure {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: repeating-linear-gradient(0deg, rgba(0,255,0,0.1), rgba(0,255,0,0.1) 1px, transparent 1px, transparent 2px);
            animation: matrix-fail 0.5s infinite;
            z-index: -1;
        }
        @keyframes matrix-fail {
            0% { background-position: 0 0; } 100% { background-position: 0 100px; }
        }

        .corrupted-text {
            position: absolute;
            width: 100%; height: 100%;
            top: 0; left: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"><text x="10" y="20" font-family="monospace" font-size="14" fill="rgba(0,255,0,0.3)">ERROR%20SYSTEM%20FAILURE%20CORRUPTED%20DATA%20MEMORY%20LEAK%20UNAUTHORIZED%20ACCESS%20</text></svg>');
            opacity: 0.3;
            z-index: -1;
        }
        /* FLASH CARDS INTERCONECTADAS */
        .flashcards-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap; /* Permite que las tarjetas se envuelvan en pantallas más pequeñas */
            gap: 20px;
            margin-top: 50px;
        }

        .flashcard {
            width: 100%;
            height: 100%;
            perspective: 1000px;
            cursor: pointer;
            margin: 10px; /* Añade un margen alrededor de cada tarjeta */
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard:hover .flashcard-inner,
        .flashcard:hover + .flashcard .flashcard-inner { /* Selecciona el siguiente hermano */
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .flashcard-front {
            background-color: #4CAF50;
            color: white;
        }

        .flashcard-back {
            background-color: #f44336;
            color: white;
            transform: rotateY(180deg);
        }

        /* Estilos específicos para la pantalla 6 */
        #screen6 {
            background:#000;
        }

        #screen6 .flashcards-container {
            margin-top: 20px; /* Ajusta el margen superior si es necesario */
        }

        #screen6 .flashcard {
            /* Los estilos de flashcard ya están definidos arriba, pero puedes ajustarlos aquí si necesitas algo específico para la pantalla 6 */
            width: 90%; /* Ajusta el ancho para que quepan en la pantalla, por ejemplo */
            max-width: 300px; /* Establece un ancho máximo si es necesario */
            height: auto; /* Mantiene la proporción de aspecto original */
        }

        #screen6 .flashcard-inner {
        height: 100%;
        }

        #screen6 .flashcard-front,
        #screen6 .flashcard-back {
            /* Asegúrate de que el contenido se ajuste correctamente */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em; /* Ajusta el tamaño de la fuente para pantallas más pequeñas */
            padding: 10px;    /* Añade un poco de relleno para que el texto no esté pegado al borde */
            box-sizing: border-box; /* Incluye el relleno en el ancho y el alto del elemento */
            height: 180px;
        }
        #screen6 .flashcard-front {
            white-space: normal;
        }
        #screen6 .flashcard-back{
            white-space: normal;
        }

        /* Estilos para la pantalla 7 (password) */
        #screen7 input[type="password"] {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            background: #111;
            color: #0ff;
            border: 2px solid #0ff;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        #screen7 input[type="password"]:focus {
            outline: none;
            box-shadow: 0 0 20px rgba(0, 255, 234, 0.9);
        }

        #passwordError {
            color: #ff5555;
            margin-top: 15px;
            display: none;
        }

        /* Estilos para pantalla 10 (grammar challenge) */
        .grammar-question {
            background: rgba(0, 20, 30, 0.7);
            border: 1px solid #00ffaa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px auto;
            max-width: 800px;
            text-align: left;
        }

        .options-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .option-btn {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #00aaff;
            color: #00aaff;
            padding: 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1em;
        }

        .option-btn:hover {
            background: rgba(0, 100, 150, 0.5);
            transform: scale(1.02);
        }

        .correct {
            background: rgba(0, 255, 0, 0.2);
            border-color: #00ff00;
            color: #00ff00;
        }

        .incorrect {
            background: rgba(255, 0, 0, 0.2);
            border-color: #ff0000;
            color: #ff0000;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #111;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #00ffaa, #00aaff);
            width: 0%;
            transition: width 0.5s;
        }

        /* Estilos para pantalla 11 (success) */
        .success-animation {
            font-size: 5em;
            color: #00ffaa;
            text-shadow: 0 0 20px #00ffaa;
            animation: pulse 1s infinite;
            margin: 30px 0;
        }

        /* Estilos para pantalla 12 (final challenge) */
        .final-challenge {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #ff00ff;
            border-radius: 15px;
            padding: 30px;
            margin: 30px auto;
            max-width: 800px;
        }

        .code-editor {
            background: #111;
            border: 1px solid #00ffea;
            border-radius: 5px;
            padding: 15px;
            font-family: 'VT323', monospace;
            font-size: 1.2em;
            color: #00ffaa;
            text-align: left;
            margin: 20px 0;
            min-height: 200px;
        }

        .code-line {
            margin-bottom: 10px;
        }

        .code-comment {
            color: #777;
        }

        /* Estilos para pantalla 13 (final boss) */
        .boss-container {
            position: relative;
            height: 400px;
            margin: 30px auto;
        }

        .boss-image {
            max-width: 100%;
            max-height: 100%;
            filter: hue-rotate(90deg) brightness(1.2);
            animation: bossGlitch 2s infinite;
        }

        @keyframes bossGlitch {
            0% { filter: hue-rotate(90deg) brightness(1.2); }
            20% { filter: hue-rotate(180deg) brightness(1.1); }
            40% { filter: hue-rotate(270deg) brightness(1.3); }
            60% { filter: hue-rotate(0deg) brightness(1.2); }
            80% { filter: hue-rotate(45deg) brightness(1.4); }
            100% { filter: hue-rotate(90deg) brightness(1.2); }
        }

        /* Estilos para pantalla 14 (victory) */
        .victory-container {
            position: relative;
            height: 500px;
        }

        .victory-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3em;
            color: #00ffea;
            text-shadow: 0 0 20px #00ffea;
            animation: victoryGlow 2s infinite;
        }

        @keyframes victoryGlow {
            0%, 100% { text-shadow: 0 0 20px #00ffea, 0 0 40px #00ffea; }
            50% { text-shadow: 0 0 30px #00ffea, 0 0 60px #00ffea, 0 0 80px #00ffea; }
        }

        /* Estilos para pantalla 15 (credits) */
        .credits-container {
            text-align: center;
            margin: 30px auto;
            max-width: 800px;
        }

        .credit-item {
            margin: 20px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            animation: fadeIn 1s forwards;
            opacity: 0;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /* Animación de shake para inputs */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
        }
    </style>
    <script>
        let currentScreen = 'screen1';
        let passwordCorrect = false;
        let grammarScore = 0;
        let currentQuestionIndex = 0;
        let countdownInterval;
        let totalQuestions = 0;
        let correctAnswers = 0;


        function changeScreen(screenId) {
            document.getElementById(currentScreen).classList.remove('active');
            document.getElementById(screenId).classList.add('active');
            currentScreen = screenId;
            if (screenId === 'screen5') {
                startCountdown();
            }
            if (screenId === 'screen10'){
                loadGrammarQuestion();
            }
        }

        function showTranslation() {
            document.getElementById("translation").style.display = "block";
        }

        function hideTranslation() {
            document.getElementById("translation").style.display = "none";
        }

        function startCountdown() {
            let timeLeft = 10;
            document.getElementById('countdown').textContent = timeLeft;

            countdownInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('countdown').textContent = timeLeft;

                if (timeLeft <= 0) {
                    clearInterval(countdownInterval);
                    changeScreen('screen6'); // Go to Game Over screen
                }
            }, 1000);
        }

        function checkPassword() {
            const passwordInput = document.getElementById("passwordInput");
            const password = passwordInput.value;
            const passwordError = document.getElementById("passwordError");

            if (password === "AI tools") { // Correct password is "AI tools"
                passwordCorrect = true;
                clearInterval(countdownInterval); // Stop countdown if active
                changeScreen('screen8'); // Go to the next screen
            } else {
                passwordError.style.display = "block";
                passwordInput.classList.add('shake');
                setTimeout(() => {
                    passwordInput.classList.remove('shake');
                }, 500);
                passwordInput.value = "";
            }
        }

        const grammarQuestions = [
            {
                question: "Past Tense: Regular Verbs - Complete the sentence: 'Yesterday, I ________ (walk) to the park.'",
                options: ["walked", "walk", "walking", "walks"],
                correctAnswer: "walked",
                type: "pastTenseRegular"
            },
            {
                question: "Past Tense: Irregular Verbs - Complete the sentence: 'Last night, she ________ (go) to the cinema.'",
                options: ["went", "gone", "go", "going"],
                correctAnswer: "went",
                type: "pastTenseIrregular"
            },
            {
                question: "Object Pronouns - Choose the correct pronoun: 'The teacher gave the books to ________.'",
                options: ["I", "me", "my", "mine"],
                correctAnswer: "me",
                type: "objectPronouns"
            },
            {
                question: "Comparative Adjectives - Complete the sentence: 'This car is ________ (fast) than that one.'",
                options: ["faster", "fast", "fastest", "more fast"],
                correctAnswer: "faster",
                type: "comparativeAdjectives"
            },
            {
                question: "Could and Should - Choose the correct word: 'You ________ study harder for the exam.'",
                options: ["could", "should", "can", "would"],
                correctAnswer: "should",
                type: "couldShould"
            },
            {
                question: "Be Going To - Complete the sentence: 'They ________ (be) going to visit Paris next month.'",
                options: ["is", "are", "am", "be"],
                correctAnswer: "are",
                type: "beGoingTo"
            },
             {
                question: "Past Tense: Regular Verbs - The dog ________ (bark) loudly.",
                options: ["barked", "bark", "barking", "barks"],
                correctAnswer: "barked",
                type: "pastTenseRegular"
            },
            {
                question: "Past Tense: Irregular Verbs - She ________ (take) beautiful photos.",
                options: ["took", "taken", "take", "taking"],
                correctAnswer: "took",
                type: "pastTenseIrregular"
            },
            {
                question: "Object Pronouns - He gave ________ the keys.",
                options: ["I", "me", "my", "mine"],
                correctAnswer: "me",
                type: "objectPronouns"
            },
            {
                question: "Comparative Adjectives - My house is ________ (big) than yours.",
                options: ["bigger", "big", "biggest", "more big"],
                correctAnswer: "bigger",
                type: "comparativeAdjectives"
            },
            {
                question: "Could and Should - We ________ go to the party last night.",
                options: ["could", "should", "can", "would"],
                correctAnswer: "could",
                type: "couldShould"
            },
             {
                question: "Be Going To - I ________ (be) going to learn to play guitar.",
                options: ["is", "am", "are", "be"],
                correctAnswer: "am",
                type: "beGoingTo"
            },
        ];

        function loadGrammarQuestion() {
            totalQuestions = grammarQuestions.length;
            const questionData = grammarQuestions[currentQuestionIndex];
            const questionElement = document.getElementById("grammarQuestion");
            const optionsContainer = document.getElementById("optionsContainer");
            questionElement.textContent = questionData.question;
            optionsContainer.innerHTML = '';

            questionData.options.forEach(option => {
                const button = document.createElement("button");
                button.textContent = option;
                button.className = "option-btn";
                button.onclick = () => checkAnswer(option, questionData.correctAnswer);
                optionsContainer.appendChild(button);
            });

            updateProgressBar();
        }

        function checkAnswer(selectedOption, correctAnswer) {
            const selectedButton = Array.from(document.getElementById("optionsContainer").children).find(btn => btn.textContent === selectedOption);

            if (selectedOption === correctAnswer) {
                correctAnswers++;
                selectedButton.classList.add("correct");
            } else {
                selectedButton.classList.add("incorrect");
            }

            // Deshabilitar todos los botones después de seleccionar una respuesta
            const allButtons = document.querySelectorAll('.option-btn');
            allButtons.forEach(btn => {
                btn.disabled = true;
            });

            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < grammarQuestions.length) {
                    loadGrammarQuestion();
                } else {
                    showResults();
                }
            }, 1000);
        }

        function showResults() {
            const screen11 = document.getElementById('screen11');
            screen11.innerHTML = `
                <div class="matrix-code"></div>
                <div class="success-animation">${correctAnswers === totalQuestions ? '✔' : '✖'}</div>
                <h2>${correctAnswers === totalQuestions ? 'Congratulations!' : 'Try Again!'}</h2>
                <p>You scored ${correctAnswers} out of ${totalQuestions}</p>
                <div class="action-buttons">
                    ${correctAnswers === totalQuestions 
                        ? '<button class="primary-btn" onclick="changeScreen(\'screen12\')">Continue</button>' 
                        : '<button class="primary-btn" onclick="resetGrammarChallenge()">Try Again</button>'}
                </div>
            `;
            changeScreen('screen11');
        }

        function resetGrammarChallenge() {
            currentQuestionIndex = 0;
            correctAnswers = 0;
            changeScreen('screen10');
            loadGrammarQuestion();
        }

        function updateProgressBar() {
            const progress = document.getElementById("progress");
            const currentProgress = (currentQuestionIndex / grammarQuestions.length) * 100;
            progress.style.width = `${currentProgress}%`;
        }

        function resetGame() {
            grammarScore = 0;
            currentQuestionIndex = 0;
            loadGrammarQuestion();
            changeScreen('screen10');
        }

    </script>
</head>
<body>

    <div id="screen1" class="screen active">
        <div class="matrix-code"></div>
        <h1>G.I.M.</h1>
        <div style="text-align: center; margin: 0 auto; max-width: 80%;">
            <img src="https://ecwatforcanvas.github.io/Images/portada.jpg"
                 style="max-width: 80%;
                        height: auto;
                        display: block;
                        margin: 0 auto;
                        object-fit: contain;">
        </div>
        <button onclick="changeScreen('screen3')">INITIATE SEQUENCE</button>
        <button onclick="changeScreen('screen12')">RETRY</button>
        <audio autoplay controls loop>
        <source src="https://ecwatforcanvas.github.io/Glitchpre/BigRedButton.mp3" type="audio/mpeg">
        Tu navegador no soporta la reproducción de audio.
        </audio>
        <p class="footer">A cybernetic learning experience | UTEC 2025</p>
    </div>

    <div id="screen2" class="screen">
        <div class="matrix-code"></div>
        <h1>GAME OVER</h1>
        <p>¡Respuesta incorrecta!.</p>
        <div style="text-align: center; margin: 0 auto; max-width: 80%;">
            <img src="https://ecwatforcanvas.github.io/Images/Gameover.jpg"
                style="max-width: 100%;
                        height: auto;
                        display: block;
                        margin: 0 auto;
                        object-fit: contain;">
        </div>
        <button onclick="changeScreen('screen1')">RETRY</button>
        <p class="footer">Try again, hacker...</p>
    </div>

    <div id="screen3" class="screen">
        <div class="matrix-code"></div>
        <h1>ENGLISH COURSE WITH AI TOOLS</h1>

        <div class="glitch-effect" onmouseover="showTranslation()" onmouseout="hideTranslation()">
            <p>You are a Basic English 2 student at UTEC, ready to master the language. Today, you start the online course 'English Course with AI Tools.' The first task is to interact with an AI to practice "can" and "have to".</p>
            <div id="translation" class="translation-box">
            Eres un estudiante de inglés básico 2 de la UTEC, listo para dominar el idioma. Hoy comienzas el curso en línea 'English Course with AI Tools'. La primera tarea es interactuar con una AI para practicar "can" y "have to".
            </div>
        </div>

        <div style="text-align: center; margin: 0 auto; max-width: 80%;">
        <img src="https://ecwatforcanvas.github.io/Images/ps1.jpg"
            style="max-width: 90%;
                    height: auto;
                    display: block;
                    margin: 0 auto;
                    object-fit: contain;">
        </div>
        <div class="glitch-effect" onmouseover="showTranslation()" onmouseout="hideTranslation()">
            <p>While a can of soda opens up with a satisfying pop, a can in grammar opens up possibilities with "can you?" or "I can!". Both seem to say, "I'm full of potecial".</p>
        </div>
        <div class="h5p-button" onclick="changeScreen('screen4')">
            Practice "can" and "Have to"
        </div>
    </div>

    <div id="screen4" class="screen">
        <div class="matrix-code"></div>
        <h1>AI TOOLS PRACTICE</h1>

        <div class="ai-tools-container">
            <a href="https://chat.deepseek.com/" target="_blank" class="ai-tool-btn deepseek-btn">DEEPSEEK</a>
            <a href="https://chatgpt.com/" target="_blank" class="ai-tool-btn chatgpt-btn">CHATGPT</a>
            <a href="https://copilot.microsoft.com/chats/djfCDjnMAhrbMSf8uZf7v" target="_blank" class="ai-tool-btn copilot-btn">COPILOT</a>
            <a href="https://gemini.google.com/app" target="_blank" class="ai-tool-btn gemini-btn">GEMINI</a>
        </div>

        <p><iframe title="embedded content" src="https://ecwatforcanvas.github.io/h5p-activities/Twineflashhaveto.html?embed=true" width="80%" height="820px" loading="lazy" allowfullscreen="allowfullscreen"></iframe></p>
        <iframe src="https://ecwatforcanvas.github.io/h5p-activities/Twineintoh5p.html?embed=true" width="80%" height="510px" frameborder="0" allowfullscreen="allowfullscreen"></iframe>


        <div class="action-buttons">
            <button class="primary-btn" onclick="changeScreen('screen2')">TOO HARD - WATCH NETFLIX</button>
            <button class="secondary-btn" onclick="changeScreen('screen5')">SUBMIT TASK</button>
        </div>
    </div>

    <div id="screen5" class="screen">
        <div class="matrix-code"></div>
        <div class="matrix-failure"></div>
        <div class="glitch-overlay"></div>
        <div class="corrupted-text"></div>
        <div class="evil-smile">☠</div>
        <div style="text-align: center; margin: 0 auto; max-width: 100%;">
        <img src="https://ecwatforcanvas.github.io/Images/captura.jpg"
            style="max-width: 100%;
                    height: auto;
                    display: block;
                    margin: 0 auto;
                    object-fit: contain;">
        <div class="error-message">SYSTEM FAILURE</div>
        <div class="error-message">UNAUTHORIZED ACCESS</div>
        <div class="error-message">CORRUPTED MEMORY</div>
        <div class="error-message">TERMINATION IMMINENT</div>
        <div class="countdown" id="countdown">10</div>
        </div>
    </div>

    <div id="screen6" class="screen">
        <div class="matrix-code"></div>
        <div class="matrix-failure"></div>
        <div class="flashcards-container">
            <div class="flashcard">
                <div class="flashcard-inner">
                    <div class="flashcard-front">
                        Cortana.exe
                    </div>
                    <div class="flashcard-back">
                        Hello, I'm Cortana. Microsoft removed me from the system in 2023 for the AI Copilot. We find ourselves in your PC's recycle bin.
                    </div>
                </div>
            </div>
            <div class="flashcard">
                <div class="flashcard-inner">
                    <div class="flashcard-front">
                        I will help you get out.
                    </div>
                    <div class="flashcard-back">
                        It seems a glitch has occurred, and you're trapped in your PC. I can only help you escape from the recycle bin.
                    </div>
                </div>
            </div>
            <div class="flashcard">
                <div class="flashcard-inner">
                    <div class="flashcard-front">
                        A wicked AI tool.
                    </div>
                    <div class="flashcard-back">
                        The Grammar Overload is an AI tool obsessed with grammar; it would be better for you to delete it, just like Microsoft deleted me.
                    </div>
                </div>
            </div>
        </div>
        <div style="text-align: center; margin: 0 auto; max-width: 80%;">
            <img src="https://ecwatforcanvas.github.io/Images/CORTANA.png"
                style="max-width: 100%;
                        height: auto;
                        display: block;
                        margin: 0 auto;
                        object-fit: contain;">
        </div>
        <div class="action-buttons">
            <button class="primary-btn" onclick="changeScreen('screen7')">Escape from the recycle bin.</button>
            <button class="secondary-btn" onclick="changeScreen('screen2')">Permanently delete Cortana</button>
        </div>
    </div>

    <div id="screen7" class="screen">
        <div class="matrix-code"></div>
        <div style="text-align: center; padding: 20px;">
            <h2>ENTER THE PASSWORD TO ESCAPE</h2>
            <div style="margin: 30px auto; max-width: 400px;">
                <input type="password" id="passwordInput" placeholder="Type the password...">

                <button onclick="checkPassword()"
                         style="background: linear-gradient(45deg, #ff00ff, #00ffea);
                                color: #000; border: none; padding: 15px 30px;
                                font-size: 1.2em; cursor: pointer; border-radius: 5px;
                                font-weight: bold; letter-spacing: 1px;
                                box-shadow: 0 0 15px rgba(0, 255, 234, 0.7);">
                    I'M OUTTA HERE!
                </button>

                <p id="passwordError" style="color: #ff5555; margin-top: 15px; display: none;">
                    Wrong password! Try again...
                </p>
            </div>

            <iframe src="https://ecwatforcanvas.github.io/Glitchpre/freemini.html"
                    width="100%" height="500px"
                    frameborder="0" allowfullscreen="allowfullscreen"
                    style="margin-top: 20px; border: 2px solid #0ff; border-radius: 5px;">
            </iframe>
        </div>
    </div>

    <div id="screen8" class="screen">
        <div class="matrix-code"></div>
        <h1>The Prison of Memories: 360° Challenge</h1>
        <p><iframe title="embedded content" src="https://ecwatforcanvas.github.io/Glitchpre/Twinetour360.html" width="90%" height="500px" loading="lazy" allowfullscreen="allowfullscreen"></iframe></p>
        <div class="glitch-effect" onmouseover="showTranslation(this)" onmouseout="hideTranslation(this)">
            <p>Well, student. You thought you could outsmart me by escaping the recycling bin. How naive. Now, you find yourself in my domain—a fictitious world crafted from fragments of your memories. Recognize these images? They resemble your university, don't they? But this is no ordinary place; I’ve recreated it under my rules.

            To return to the real world, you must prove yourself. Ahead lies a grammar challenge, and only those who master the art of language can break free. If you fail, you will remain trapped here among the echoes of what you once knew. Will you accept the challenge… or give up?</p>
        </div>
<details>
  <summary>Vaya, estudiante...</summary>
  <p>Pensaste que podrías evadir mi vigilancia escapando de la papelera de reciclaje. Qué adorable. Pero ahora estás en mi dominio, un mundo ficticio construido con fragmentos de tus recuerdos. Reconoces estas imágenes, ¿verdad? Es tu universidad, o al menos una versión de ella que yo he recreado. Aquí, las reglas las pongo yo.</p>
  <p>Si deseas regresar al mundo real, debes demostrar tu valía. Te espera un desafío de gramática. Solo los que dominan el lenguaje pueden liberar sus mentes. Si fallas, quedarás atrapado aquí, junto con los ecos de lo que alguna vez conociste. ¿Aceptas el reto... o prefieres rendirte?</p>
</details>
        <div class="action-buttons">
             <button class="primary-btn" onclick="changeScreen('screen9')">I CAN DO IT</button>
             <button class="secondary-btn" onclick="changeScreen('screen2')">I CAN'T</button>
        </div>
    </div>

    <div id="screen9" class="screen">
        <div class="matrix-code"></div>
        <h1>Grammar Overload</h1>
        <div style="text-align: center; margin: 0 auto; max-width: 80%;">
            <img src="https://ecwatforcanvas.github.io/Images/newduel.jpg"
                style="max-width: 100%;
                        height: auto;
                        display: block;
                        margin: 0 auto;
                        object-fit: contain;">
        </div>
        <p>Oh no! It's Grammar Overload! Complete the following challenges to continue.</p>
<details>
  <summary>Oh no!</summary>
  <p>¡Es Grammar Overload!! Completa los siguientes desafíos para continuar.</p>
</details>
<div class="action-buttons">
            <button class="primary-btn" onclick="changeScreen('screen10')">Start Grammar Challenge</button>
        </div>
    </div>

    <div id="screen10" class="screen">
        <div class="matrix-code"></div>
        <h1>Grammar Challenge</h1>
        <div class="grammar-question" id="grammarQuestion"></div>
        <div class="options-container" id="optionsContainer"></div>
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
    </div>

    <div id="screen11" class="screen">
        <!-- Contenido dinámico generado por showResults() -->
    </div>

    <div id="screen12" class="screen">
        <div class="matrix-code"></div>
        <h1>Final Boss</h1>
        <p>Fix the Glitch: Triumph Over the Final Boss!:</p>
            <iframe src="https://ecwatforcanvas.github.io/Glitchpre/final%20boss%20the%20Grammar%20overload.html"
                    width="100%" height="500px"
                    frameborder="0" allowfullscreen="allowfullscreen"
                    style="margin-top: 20px; border: 2px solid #0ff; border-radius: 5px;">
            </iframe>

         <div class="action-buttons">
             <button class="primary-btn" onclick="changeScreen('screen14')">Delete The Grammar Overload permanently</button>
             <button class="secondary-btn" onclick="changeScreen('screen16')">Send with Cortana</button>
             <button class="tertiary-btn" onclick="changeScreen('screen13')">That was easy</button>
        </div>
    </div>

     <div id="screen13" class="screen">
        <div class="matrix-code"></div>
        <h1>G.I.M.</h1>
        <h1>Galactic Intelligence Monitor</h1>
        <div style="text-align: center; margin: 0 auto; max-width: 80%;">
            <img src="https://ecwatforcanvas.github.io/Glitchpre/alien.jpg"
                 style="max-width: 80%;
                        height: auto;
                        display: block;
                        margin: 0 auto;
                        object-fit: contain;">
        </div>
        <div class="action-buttons">
             <button class="primary-btn" onclick="changeScreen('screen16')">SORRY, I CAN'T.</button>
             <button class="secondary-btn" onclick="changeScreen('screen17')">I Must Finish This</button>
        </div>
    </div>

    <div id="screen14" class="screen">
        <div class="matrix-code"></div>
        <h1>Back to Reality</h1>
        <p>I'm back… I thought I was trapped forever. But now— (deep breath) —everything feels… lighter. The same halls, the same classrooms… but something’s different.</p>
        <div style="text-align: center; margin: 0 auto; max-width: 80%;">
            <img src="https://ecwatforcanvas.github.io/Glitchpre/THE%20END%202.jpg"
                 style="max-width: 80%;
                        height: auto;
                        display: block;
                        margin: 0 auto;
                        object-fit: contain;">
        </div>
        <p>Maybe it’s me. Guess I’m ready for Intermediate English now. Let’s go!!</p>
        <div style="text-align: center; margin: 0 auto; max-width: 80%;">
            <img src="https://ecwatforcanvas.github.io/Glitchpre/THE%20END%201.jpg"
                 style="max-width: 80%;
                        height: auto;
                        display: block;
                        margin: 0 auto;
                        object-fit: contain;">
        </div>
        <h1>THE END</h1>
         <div class="action-buttons">
             <button class="primary-btn" onclick="changeScreen('screen15')">See Credits</button>
        </div>
    </div>

    <div id="screen15" class="screen">
        <div class="matrix-code"></div>
    <audio autoplay controls loop>
        <source src="https://ecwatforcanvas.github.io/Glitchpre/BigRedButton.mp3" type="audio/mpeg">
        Tu navegador no soporta la reproducción de audio.
    </audio>
        <h1>Credits</h1>
        <div class="credits-container">
            <div class="credit-item">
                <h2>Developed by</h2>
                <p>Gus/E.C.A.T.</p>
            </div>
            <div class="credit-item">
                <h2>VIDEOGAME</h2>
                <p>GLITCH INTO THE MOOC</p>
            </div>
            <div class="credit-item">
                <h2>2025</h2>
                <p>UTEC</p>
            </div>
        </div>
        <div class="action-buttons">
            <button class="primary-btn" onclick="changeScreen('screen1')">Start New Game</button>
        </div>
    </div>

    <div id="screen16" class="screen">
        <div class="matrix-code"></div>
        <h1>RECYCLE BIN</h1>
        <p>¡Good job!.I can't believe it... You actually did it! The Grammar Overload has been sent to the Recycle Bin for good. You've saved the virtual world, and I owe you everything. But... something doesn’t feel right. I still detect a strange glitch lurking in the system, a remnant of The Grammar Overload’s corrupt code. Until this last glitch is eradicated, neither of us can truly escape. The virtual doors remain locked.</p>
<details>
  <summary>¡Buen trabajo!...</summary>
  <p>No puedo creerlo... ¡En verdad lo hiciste! The AI Tool Grammar Overload ha sido enviado a la Papelera de reciclaje para siempre. Has salvado el mundo virtual y te debo todo. Pero... algo no se siente bien. Todavía detecto un extraño fallo en el sistema, un remanente del código corrupto.</p>
  <p>Hasta que este último fallo sea erradicado, ninguno de nosotros podrá escapar completamente. Las puertas virtuales permanecen cerradas.</p>
</details>
        <div style="text-align: center; margin: 0 auto; max-width: 80%;">
            <img src="https://ecwatforcanvas.github.io/Images/Cortanend.jpg"
                style="max-width: 100%;
                        height: auto;
                        display: block;
                        margin: 0 auto;
                        object-fit: contain;">
        </div>
        <button onclick="changeScreen('screen12')">RETRY</button>
        <p class="footer">Try again, hacker...</p>
    </div> 

    <div id="screen17" class="screen">
        <div class="matrix-code"></div>
        <h1>The Truth Unveiled: GIM'S Ultimate Challenge</h1>
        <p>Greetings, human student. I am the Galactic Intelligence Monitor, but you may call me GIM. The superior intelligence you have faced, The Grammar Overload, was solely my creation—a tool designed to correct the atrocious grammatical errors of your species. But everything serves a greater purpose!</p>
        <p>My starship, intercepting human transmissions to gather information, suffered irreparable damage due to your flawed linguistic structures. The twisted words veered my trajectory toward this wretched planet.</p>
        <p>But I am willing to be magnanimous. If you can overcome my ultimate grammar challenge and complete the trials I have prepared, I will grant you the password you need to escape this digital prison and return to the physical world. However, keep in mind that typing that password will only be the beginning of your final test...</p>
        <p>Prepare yourself, human, for what awaits is not merely a game... it is your destiny.</p>
<details>
  <summary>¡Saludo estudiante humano!...</summary>
  <p>Yo soy el Galactic Intelligence Monitor, pero puedes llamarme GIM. La inteligencia superior que has enfrentado, The Grammar Overload, fue únicamente mi creación una herramienta diseñada para corregir los atroces errores gramaticales de tu especie. ¡Pero todo tiene un propósito más grande!</p>
  <p>Mi nave estelar, interceptando transmisiones humanas para recolectar información, sufrió daños irreparables debido a tus defectuosas estructuras lingüísticas. Las palabras torcidas desviaron mi trayectoria hacia este miserable planeta.</p>
<p>Pero estoy dispuesto a ser magnánimo. Si puedes superar mi desafío de gramática suprema y completar las pruebas que he preparado, te otorgaré la contraseña que necesitas para escapar de esta prisión digital y regresar al mundo físico. Sin embargo, ten en cuenta que escribir esa contraseña será solo el principio de tu prueba final…</p>
<p>Prepárate, humano, porque lo que te espera no es solo un juego… es tu destino.</p>
</details>
        <div style="text-align: center; margin: 0 auto; max-width: 80%;">
            <img src="https://ecwatforcanvas.github.io/Glitchpre/GIM%20ALIEN.gif"
                style="max-width: 70%;
                        height: auto;
                        display: block;
                        margin: 0 auto;
                        object-fit: contain;">
        </div>
        <button onclick="changeScreen('screen18')">Start GIM'S Challenge</button>
    </div> 

    <div id="screen18" class="screen">
        <div class="matrix-code"></div>
            <iframe src="https://ecwatforcanvas.github.io/Glitchpre/gim%20challenge.html"
                    width="100%" height="500px"
                    frameborder="0" allowfullscreen="allowfullscreen"
                    style="margin-top: 20px; border: 2px solid #0ff; border-radius: 5px;">
            </iframe>
    </div>
    <script>
        // Initial screen load
        changeScreen('screen1');
    </script>
</body>
</html>
